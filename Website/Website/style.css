/* ===== Pastel, minimal, ant-themed ===== */
:root{
  --bg: #fffaf7;
  --surface: #ffffff;
  --ink: #1f2937;
  --muted: #6b7280;

  /* single pastel accent */
  --accent: #ff8fab;     /* pastel pink */
  --line: #f1e3e6;

  --radius: 14px;
  --shadow: 0 8px 24px rgba(0,0,0,0.08);
  --shadow-soft: 0 3px 12px rgba(0,0,0,0.06);

  --left-pane-min: 320px;
  --left-pane-max: 820px;
  --left-pane: calc(50vw); /* ⬅️ default to half screen */
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin: 0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--ink);
  background:
    radial-gradient(1200px 1200px at 12% -8%, #ffeef6, transparent 60%),
    radial-gradient(1400px 1200px at 100% 0%, #eafff6, transparent 60%),
    linear-gradient(180deg, var(--bg), #fff);
}

/* Background canvas remains behind UI */
#bg-canvas{ position: fixed; inset: 0; z-index: 0; pointer-events: none; }

/* Header */
.app-header{
  position: sticky; top: 0; z-index: 2;
  display: flex; align-items: center; justify-content: space-between;
  height: 64px; padding: 0 16px;
  background: var(--surface);
  border-bottom: 1px solid var(--line);
}
.brand { display:flex; align-items:center; gap:10px; }
.brand h1{ font-size:18px; font-weight:800; margin:0; letter-spacing:.2px; }
.brand .ant-emoji{ font-size:16px; line-height:1; }

/* Layout */
.app-main{
  position: relative; z-index: 1;
  height: calc(100vh - 64px);
  display: grid;
  grid-template-columns: minmax(var(--left-pane-min), var(--left-pane)) 8px 1fr;
}

/* Resizer */
#resizer{
  background: linear-gradient(to right, transparent, var(--line), transparent);
  cursor: col-resize; outline: none;
}
#resizer:focus{ box-shadow: inset 0 0 0 2px var(--accent); }

/* Panes */
.pane{ height: 100%; overflow: hidden; background: var(--surface); }
.pane-left{ border-right: 1px solid var(--line); }
.pane-right{ border-left: 1px solid var(--line); }

/* Pane header */
.pane-header{
  position: sticky; top: 0; z-index: 1;
  display: flex; align-items: end; justify-content: space-between;
  gap: 16px; padding: 16px; background: var(--surface);
  border-bottom: 1px solid var(--line);
}
.pane-title h2{ margin: 0; font-size: 18px; font-weight: 800; }
.muted{ color: var(--muted); font-size: 12px; }

/* Scroll areas */
.steps{
  margin: 0; padding: 16px; list-style: none;
  height: calc(100% - 70px); overflow: auto;
}
.form{
  padding: 16px;
  height: calc(100% - 70px);
  display: grid;
  grid-template-rows: auto auto auto auto 1fr;
  gap: 12px; overflow: auto;
}

/* Inputs & buttons */
.label{ font-size: 12px; color: var(--muted); }
.input{
  width: 100%;
  border: 1px solid var(--line);
  background: #fff;
  border-radius: var(--radius);
  padding: 10px 12px; font-size: 14px; outline: none; box-shadow: var(--shadow-soft);
}
.input:focus{ border-color: var(--accent); box-shadow: 0 0 0 3px rgba(255,143,171,0.22); }

.textarea{
  width: 100%; min-height: 220px; resize: vertical;
  border: 1px solid var(--line); background: #fff; border-radius: var(--radius);
  padding: 12px 14px; font-size: 14px; line-height: 1.6; outline: none; box-shadow: var(--shadow);
}
.textarea:focus{ border-color: var(--accent); box-shadow: 0 0 0 3px rgba(255,143,171,0.22); }

.btn{
  appearance: none; border: 1px solid var(--line);
  background: #fff; color: var(--ink);
  border-radius: 12px; padding: 8px 12px;
  font-weight: 600; font-size: 14px; cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, opacity .15s ease;
  box-shadow: var(--shadow-soft);
}
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); box-shadow: none; }
.btn.primary{ background: var(--accent); color: #fff; border-color: var(--accent); }
.btn.secondary{ background:#fff; }
.btn.danger{ background:#fff; color:#b91c1c; border-color:#ef8895; }

.saved{
  font-size: 12px; color: var(--muted);
  padding: 6px 10px; border-radius: 999px;
  border: 1px solid var(--line); background: #fff;
}

/* Step card */
.card{
  position: relative;
  display: grid; grid-template-columns: 1fr auto; grid-template-rows: auto auto;
  gap: 8px 8px; padding: 12px; margin: 0 0 12px 0;
  border: 1px solid var(--line); border-radius: var(--radius); background: #fff; box-shadow: var(--shadow-soft);
}
.card.dragging{ opacity: .6; }
.card .handle{
  cursor: grab; user-select: none; color: var(--muted); font-size: 14px;
}
.card .title{ grid-column: 1 / 2; grid-row: 1 / 2; }
.card .actions{ grid-column: 2 / 3; grid-row: 1 / 2; display: flex; gap: 6px; align-items: center; justify-content: flex-end; }
.card .notes{ grid-column: 1 / 3; grid-row: 2 / 3; }

.placeholder{
  height: 84px; margin: 0 0 12px 0;
  border: 2px dashed var(--accent); border-radius: var(--radius);
  background: rgba(255,143,171,0.08);
}

/* Scrollbars */
.steps::-webkit-scrollbar, .form::-webkit-scrollbar{ width: 10px; }
.steps::-webkit-scrollbar-thumb, .form::-webkit-scrollbar-thumb{
  background: var(--line); border-radius: 999px;
}

@media (max-width: 980px){
  .app-main{ grid-template-columns: 1fr; grid-auto-rows: auto; }
  #resizer{ display:none; }
  .pane-left{ border-right:none; border-bottom:1px solid var(--line); }
}
